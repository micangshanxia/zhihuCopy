# zhihuCopy
使用Django来尽可能“复制”知乎，作为练习。



----2016.10.18----

### 目前实现的功能：

1. 用户注册、登录、登出。
2. 问题的新建，回答的新建。
3. 用户关注其他用户，用户关注问题。
4. 用户给回答点赞，或者点反对。
5. 相关对象操作后，会使用信号机制来对Notification对象进行操作。
6. 使用redis进行缓存，有两个功能使用到缓存：一个是未读消息数的缓存，一个是Notification页面的缓存。
7. 使用Celery来定时将redis缓存中的未读消息数写入内存，也实现了使用Django提供的CommandLine方法来手动写入。
8. 问题新建时，搜索话题，可以根据输入来自动补全，然后再根据自动补全的输出结果进行自由选择。



在以上功能的实现中，多数使用ajax来动态加载页面。



### 体会：

1. 知乎的功能好多啊，越做越觉得多…
2. 前端不熟，先是直接copy知乎，然后去改，发现工程量太大，最后选择bootstrap来重做，然而还是花了不少时间，页面还挺丑…
3. 表之间的关系如何设计才能达到性能最优，目前只知道一点点，当前的实现仅仅是没出问题罢了。
4. 用Redis来做缓存，用Celery来做定时任务，虽然对于本地环境是大材小用了，但是知乎肯定有类似的东西，既然是zhihuCopy，那也就一并Copy了。
5. JavaScript，jQuery，ajax这些在前端可以实现很多后端不好实现的功能。我目前用的最多的是为了实现对页面的动态加载。
6. ajax和django有数据交流时，要考虑序列化，我使用了json。
7. django的forms挺好用，特别是models.form，可以直接从request.POST中把数据洗出来，不过数据验证不太好用，可以使用jQuery的validate功能来代替。
8. Django的文档还需要多读一读，目前对Django还是只有使用，对中间件如何处理request&response，以及其他内部机制并没有深入了解。